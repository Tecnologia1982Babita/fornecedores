{"ast":null,"code":"var _jsxFileName = \"/root/appthinkfornecedores/src/components/vendaEstoque/VendaEstoque.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./VendaEstoque.css\";\nimport { Card, CardTitle } from 'reactstrap'; //import { useEffect } from \"react\";\n\nimport MenuSuperior from '../menuSuperior/MenuSuperior';\nimport TabelaFornecedor from '../tabelaFornecedor/TabelaFornecedor';\nimport api from '../../api';\n\nconst VendaEstoque = props => {\n  const [vendasdia, setVendasdia] = useState([]);\n  const [vendas, setVendas] = useState([]);\n  const [vendasmes, setVendasmes] = useState([]);\n  const [Estoquetotal, setEstoquetotal] = useState([]);\n  const [ultimaatualizacao, setUltimaatualizacao] = useState([]);\n  const for_cod = localStorage.getItem('for_cod');\n\n  function hoje() {\n    var today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth() + 1; //January is 0!\n\n    var yyyy = today.getFullYear();\n\n    if (dd < 10) {\n      dd = '0' + dd;\n    }\n\n    if (mm < 10) {\n      mm = '0' + mm;\n    }\n\n    var formatado = dd + '/' + mm + '/' + yyyy;\n    var bd = yyyy + '-' + mm + '-' + dd;\n    var valores = {\n      'formatado': formatado,\n      'bd': bd\n    };\n    return valores;\n  }\n\n  function buscarUltimos30dias() {\n    var datIni = hoje().bd;\n    var mesPegar = datIni.split('-')[1];\n\n    if (mesPegar === '0') {\n      mesPegar = '12';\n    } else {\n      mesPegar = parseInt(mesPegar) - 1;\n\n      if (mesPegar < 10) {\n        mesPegar = '0' + mesPegar.toString();\n      } else {\n        mesPegar = mesPegar.toString();\n      }\n    }\n\n    var dataMes = datIni.split('-')[0] + '-' + mesPegar + '-' + datIni.split('-')[2];\n    return dataMes;\n  }\n\n  function buscarQuinzena() {\n    var datIni = hoje().bd;\n    var dia = datIni.split('-')[2];\n    var mes = datIni.split('-')[1];\n    var ano = datIni.split('-')[0];\n    var diaIni = '01';\n    var diaFim = '15';\n\n    if (dia > '15') {\n      diaIni = '16';\n      diaFim = '31';\n\n      if (mes === '02') {\n        if (ano % 4 === 0 && ano % 100 !== 0 || ano % 400 === 0) {\n          diaFim = '29';\n        } else {\n          diaFim = '28';\n        }\n      } else if (mes === '04' || mes === '06' || mes === '09' || mes === '11') {\n        diaFim = '30';\n      }\n    }\n\n    var dataIni = ano + '-' + mes + '-' + diaIni;\n    var dataFim = ano + '-' + mes + '-' + diaFim;\n    var valores = {\n      'dataIni': dataIni,\n      'dataFim': dataFim\n    };\n    return valores;\n  }\n\n  useEffect(() => {\n    api.get(`vendasdia/${for_cod}/${hoje().bd}`).then(response => {\n      setVendasdia(response.data);\n    });\n  }, [for_cod]);\n  useEffect(() => {\n    api.get(`vendas/${for_cod}/${buscarQuinzena().dataIni}/${buscarQuinzena().dataFim}`).then(response => {\n      setVendas(response.data);\n    });\n  }, [for_cod]);\n  var datFim = hoje().bd;\n  useEffect(() => {\n    api.get(`vendasmes/${for_cod}/${buscarUltimos30dias()}/${datFim}`).then(response => {\n      setVendasmes(response.data);\n    });\n  }, [for_cod]);\n  useEffect(() => {\n    api.get(`Estoquetotal/${for_cod}`).then(response => {\n      setEstoquetotal(response.data);\n    });\n  }, [for_cod]);\n  var datIniQuinz = buscarQuinzena().dataIni;\n  var datFimQuinz = buscarQuinzena().dataFim;\n  var dataMes = buscarUltimos30dias();\n  useEffect(() => {\n    api.get(`ultimaatualizacao/`).then(response => {\n      setUltimaatualizacao(response.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuSuperior, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"root3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"geral\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }), ultimaatualizacao.map(ultimaatualizacao => /*#__PURE__*/React.createElement(\"b\", {\n    key: ultimaatualizacao,\n    id: \"ultimaAtualizacaoMov\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, \"\\xDAltima atualiza\\xE7\\xE3o: \", ultimaatualizacao.movfor_hora, \" \")), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2\",\n    id: \"resumo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rowVendaEstoque\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cardgeral\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, vendasdia.map(vendasdia => /*#__PURE__*/React.createElement(\"div\", {\n    key: vendasdia,\n    className: \"bloco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 45\n    }\n  }, \"Venda Hoje\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"quantidade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 48\n    }\n  }, \"Quantidade: \", vendasdia.totalpeca)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"valorTotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 48\n    }\n  }, \"Valor Total: R$ \", vendasdia.total)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 49\n    }\n  }, \"De: \", hoje().formatado), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 49\n    }\n  }, \" Ate: \", hoje().formatado))))), vendas.map(vendas => /*#__PURE__*/React.createElement(\"div\", {\n    key: vendas,\n    className: \"bloco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 45\n    }\n  }, \"Venda Quinzena\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"quantidade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 48\n    }\n  }, \"Quantidade: \", vendas.totalpeca)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"valorTotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 48\n    }\n  }, \"Valor Total: R$ \", vendas.total)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 49\n    }\n  }, \"De: \", datIniQuinz.split('-')[2] + '/' + datIniQuinz.split('-')[1] + '/' + datIniQuinz.split('-')[0]), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 49\n    }\n  }, \" Ate: \", datFimQuinz.split('-')[2] + '/' + datFimQuinz.split('-')[1] + '/' + datFimQuinz.split('-')[0]))))), vendasmes.map(vendasmes => /*#__PURE__*/React.createElement(\"div\", {\n    key: vendasmes,\n    className: \"bloco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 45\n    }\n  }, \"Venda \\xDAltimos 30 dias\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"quantidade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 48\n    }\n  }, \"Quantidade: \", vendasmes.totalpeca)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"valorTotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 48\n    }\n  }, \"Valor Total: R$ \", vendasmes.total)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 49\n    }\n  }, \"De: \", dataMes.split('-')[2] + '/' + dataMes.split('-')[1] + '/' + dataMes.split('-')[0]), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 49\n    }\n  }, \" Ate: \", hoje().formatado))))), Estoquetotal.map(Estoquetotal => /*#__PURE__*/React.createElement(\"div\", {\n    key: Estoquetotal,\n    className: \"bloco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 45\n    }\n  }, \"Estoque\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"quantidade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 48\n    }\n  }, \"Quantidade: \", Estoquetotal.totalpeca)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"valorTotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 48\n    }\n  }, \"Valor Total: R$ \", Estoquetotal.total)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"periodo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 49\n    }\n  }, \"Estoque Total\")))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TabelaFornecedor, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default VendaEstoque;","map":{"version":3,"sources":["/root/appthinkfornecedores/src/components/vendaEstoque/VendaEstoque.js"],"names":["React","useState","useEffect","Card","CardTitle","MenuSuperior","TabelaFornecedor","api","VendaEstoque","props","vendasdia","setVendasdia","vendas","setVendas","vendasmes","setVendasmes","Estoquetotal","setEstoquetotal","ultimaatualizacao","setUltimaatualizacao","for_cod","localStorage","getItem","hoje","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","formatado","bd","valores","buscarUltimos30dias","datIni","mesPegar","split","parseInt","toString","dataMes","buscarQuinzena","dia","mes","ano","diaIni","diaFim","dataIni","dataFim","get","then","response","data","datFim","datIniQuinz","datFimQuinz","map","movfor_hora","totalpeca","total"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./VendaEstoque.css\";\nimport { Card, CardTitle } from 'reactstrap';\n//import { useEffect } from \"react\";\n\nimport MenuSuperior from '../menuSuperior/MenuSuperior';\n\nimport TabelaFornecedor from '../tabelaFornecedor/TabelaFornecedor';\nimport api from '../../api';\n\n\n\n\nconst VendaEstoque = (props) => {\n\n    const [vendasdia, setVendasdia] = useState([]);\n    const [vendas, setVendas] = useState([]);\n    const [vendasmes, setVendasmes] = useState([]);\n    const [Estoquetotal, setEstoquetotal] = useState([]);\n    const [ultimaatualizacao, setUltimaatualizacao] = useState([]);\n\n    const for_cod = localStorage.getItem('for_cod')\n\n\n    function hoje() {\n        var today = new Date();\n        var dd = today.getDate();\n        var mm = today.getMonth() + 1; //January is 0!\n\n        var yyyy = today.getFullYear();\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n        var formatado = dd + '/' + mm + '/' + yyyy;\n        var bd = yyyy + '-' + mm + '-' + dd;\n        var valores = { 'formatado': formatado, 'bd': bd };\n        return valores;\n    }\n\n    function buscarUltimos30dias() {\n        var datIni = hoje().bd;\n        var mesPegar = datIni.split('-')[1];\n        if (mesPegar === '0') {\n            mesPegar = '12';\n        } else {\n            mesPegar = parseInt(mesPegar) - 1;\n            if (mesPegar < 10) {\n                mesPegar = '0' + mesPegar.toString();\n            } else {\n                mesPegar = mesPegar.toString();\n            }\n        }\n        var dataMes = datIni.split('-')[0] + '-' + mesPegar + '-' + datIni.split('-')[2];\n        return dataMes;\n    }\n\n    function buscarQuinzena() {\n        var datIni = hoje().bd;\n        var dia = datIni.split('-')[2];\n        var mes = datIni.split('-')[1];\n        var ano = datIni.split('-')[0];\n        var diaIni = '01';\n        var diaFim = '15'; \n        if (dia > '15') {\n            diaIni = '16';\n            diaFim = '31';\n            if (mes === '02') {\n                if (((ano % 4 === 0) && (ano % 100 !== 0)) || (ano % 400 === 0)) {\n                    diaFim = '29';\n                } else {\n                    diaFim = '28';\n                }\n            } else if (mes === '04' || mes === '06' || mes === '09' || mes === '11') {\n                diaFim = '30';\n            }\n        }\n        var dataIni = ano + '-' + mes + '-' + diaIni;\n        var dataFim = ano + '-' + mes + '-' + diaFim;\n        var valores = { 'dataIni': dataIni, 'dataFim': dataFim };\n        return valores;\n    }\n\n    useEffect(() => {\n        api.get(`vendasdia/${for_cod}/${hoje().bd}`).then(response => {\n\n            setVendasdia(response.data)\n        })\n    }, [for_cod]);\n\n    useEffect(() => {\n        api.get(`vendas/${for_cod}/${buscarQuinzena().dataIni}/${buscarQuinzena().dataFim}`).then(response => {\n\n            setVendas(response.data)\n        })\n    }, [for_cod]);\n\n    var datFim = hoje().bd;\n\n    useEffect(() => {\n        api.get(`vendasmes/${for_cod}/${buscarUltimos30dias()}/${datFim}`).then(response => {\n\n            setVendasmes(response.data)\n           \n        }) \n    }, [for_cod]);\n\n\n\n    useEffect(() => {\n        api.get(`Estoquetotal/${for_cod}`).then(response => {\n            setEstoquetotal(response.data)\n        })\n    }, [for_cod]);\n\n\n\n    var datIniQuinz = buscarQuinzena().dataIni;\n    var datFimQuinz = buscarQuinzena().dataFim;\n    var dataMes = buscarUltimos30dias();\n\n\n    useEffect(() => {\n        api.get(`ultimaatualizacao/`).then(response => {\n            setUltimaatualizacao(response.data)\n\n        })\n    }, []);\n\n\n\n\n\n\n\n\n    return (\n        <React.Fragment>\n\n            <div>\n                <MenuSuperior />\n\n\n            </div>\n\n            <div className=\"root3\">\n                <div className=\"geral\">\n                    <div className=\"container1\">\n                        <p></p>\n                        {ultimaatualizacao.map(ultimaatualizacao => (\n                            <b key={ultimaatualizacao} id=\"ultimaAtualizacaoMov\">Última atualização: {ultimaatualizacao.movfor_hora} </b>\n                        ))}\n                        <hr></hr>\n                    </div>\n                    <div className=\"container2\" id=\"resumo\">\n                        <div className=\"rowVendaEstoque\">\n                            <div className=\"cardgeral\">\n\n\n\n\n                                {vendasdia.map(vendasdia => (\n                                    <div key={vendasdia} className=\"bloco\" >\n                                        <Card className=\"card1\">\n                                            <CardTitle>Venda Hoje</CardTitle>\n\n                                            <p><span className=\"quantidade\">Quantidade: {vendasdia.totalpeca}</span></p>\n                                            <p><span className=\"valorTotal\">Valor Total: R$ {vendasdia.total}</span></p>\n                                            <p>\n                                                <span className=\"periodo1\">De: {hoje().formatado}</span>\n                                                <span className=\"periodo2\"> Ate: {hoje().formatado}</span>\n                                            </p>\n                                        </Card>\n                                    </div>\n                                ))}\n\n\n                                {vendas.map(vendas => (\n                                    <div key={vendas} className=\"bloco\">\n                                        <Card className=\"card2\">\n                                            <CardTitle>Venda Quinzena</CardTitle>\n                                            <p><span className=\"quantidade\">Quantidade: {vendas.totalpeca}</span></p>\n                                            <p><span className=\"valorTotal\">Valor Total: R$ {vendas.total}</span></p>\n                                            <p>\n                                                <span className=\"periodo1\">De: {datIniQuinz.split('-')[2] + '/' + datIniQuinz.split('-')[1] + '/' + datIniQuinz.split('-')[0]}</span>\n                                                <span className=\"periodo2\"> Ate: {datFimQuinz.split('-')[2] + '/' + datFimQuinz.split('-')[1] + '/' + datFimQuinz.split('-')[0]}</span>\n                                            </p>\n\n                                        </Card>\n                                    </div>\n\n                                ))}\n\n\n                                {vendasmes.map(vendasmes => (\n                                    <div key={vendasmes} className=\"bloco\">\n                                        <Card className=\"card3\">\n                                            <CardTitle>Venda Últimos 30 dias</CardTitle>\n                                            <p><span className=\"quantidade\">Quantidade: {vendasmes.totalpeca}</span></p>\n                                            <p><span className=\"valorTotal\">Valor Total: R$ {vendasmes.total}</span></p>\n                                            <p>\n                                                <span className=\"periodo1\">De: {dataMes.split('-')[2] + '/' + dataMes.split('-')[1] + '/' + dataMes.split('-')[0]}</span>\n                                                <span className=\"periodo2\"> Ate: {hoje().formatado}</span>\n                                            </p>\n\n                                        </Card>\n                                    </div>\n                                ))}\n\n\n                                {Estoquetotal.map(Estoquetotal => (\n                                    <div key={Estoquetotal} className=\"bloco\">\n                                        <Card className=\"card4\">\n                                            <CardTitle>Estoque</CardTitle>\n                                            <p><span className=\"quantidade\">Quantidade: {Estoquetotal.totalpeca}</span></p>\n                                            <p><span className=\"valorTotal\">Valor Total: R$ {Estoquetotal.total}</span></p>\n                                            <p>\n                                                <span className=\"periodo1\">Estoque Total</span>\n                                            </p>\n\n                                        </Card>\n                                    </div>\n                                ))}\n\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <TabelaFornecedor />\n               \n\n            </div>\n      \n        </React.Fragment>\n    );\n}\n\nexport default VendaEstoque;"]},"metadata":{},"sourceType":"module"}